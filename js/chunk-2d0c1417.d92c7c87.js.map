{"version":3,"sources":["webpack:///./src/views/NotificationPage.vue?dec9","webpack:///src/views/NotificationPage.vue","webpack:///./src/views/NotificationPage.vue?4109","webpack:///./src/views/NotificationPage.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","headersMessage","notification","singleSelect","scopedSlots","_u","key","fn","ref","item","getColor","status","_v","_s","model","value","callback","$$v","selected","expression","length","on","$event","deleteNotification","staticRenderFns","component","VBtn","VChip","VCol","VDataTable","VRow"],"mappings":"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","file":"js/chunk-2d0c1417.d92c7c87.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"notificationPage\"},[_c('div',{staticClass:\"mr-2 mb-6 mt-6\",attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('v-row',{attrs:{\"align\":\"start\",\"justify\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"1\"}},[_c('navBar')],1),_c('v-col',{attrs:{\"cols\":\"3\",\"sm\":\"2\",\"offset-sm\":\"6\",\"offset\":\"6\"}},[_c('perfil')],1),_c('v-col',{attrs:{\"cols\":\"3\",\"sm\":\"1\",\"offset-sm\":\"0\",\"offset\":\"7\"}},[_c('logout')],1)],1),_c('v-row',{staticClass:\"pl-10 ml-10\"},[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headersMessage,\"items\":_vm.notification,\"items-per-page\":5,\"single-select\":_vm.singleSelect,\"item-key\":\"id\",\"show-select\":\"\"},scopedSlots:_vm._u([{key:\"item.status\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-chip',{attrs:{\"color\":_vm.getColor(item.status),\"dark\":\"\"}},[_vm._v(\" \"+_vm._s(item.status))])]}}]),model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"offset\":\"0\",\"sm\":\"6\",\"offset-sm\":\"6\",\"align-self\":\"end\",\"justify\":\"end\"}},[(this.selected.length!== 0)?_c('v-btn',{staticClass:\"white--text\",attrs:{\"large\":\"\",\"rounded\":\"\",\"color\":\"amber lighten-1\"},on:{\"click\":function($event){return _vm.deleteNotification()}}},[_vm._v(\" Remover Mensagem \")]):_c('v-btn',{attrs:{\"large\":\"\",\"rounded\":\"\",\"disabled\":\"\"}},[_vm._v(\"Remover Mensagem\")])],1)],1)],1),_c('footerVue')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"notificationPage\">\r\n        \r\n        <div class=\"mr-2 mb-6 mt-6\" align=\"center\" justify=\"center\">\r\n        \r\n            <!-- ++++++++++++++++++++++++++++++++++navbar logout profile+++++++++++++++++++++++++++++++-->\r\n            <v-row align=\"start\" justify=\"center\" >\r\n                <v-col cols=\"1\">\r\n                    <navBar />\r\n                </v-col>\r\n\r\n                <v-col cols=\"3\" sm=\"2\" offset-sm=\"6\" offset=\"6\">\r\n                    <perfil />\r\n                </v-col>\r\n\r\n                <v-col cols=\"3\" sm=\"1\" offset-sm=\"0\" offset=\"7\">\r\n                    <logout />\r\n                </v-col>\r\n            </v-row>\r\n            <!--++++++++++++++++table and set up so it doesnt clip the table by the navbar++++++++++++++++++++++++++++++++ -->\r\n\r\n            <!-------------------------Notification table-------------------------------------------------------------------------------->\r\n            <v-row class=\"pl-10 ml-10\" >\r\n                <v-col cols=\"12\"  >\r\n                    <v-data-table\r\n                    v-model=\"selected\"\r\n                    :headers=\"headersMessage\"                    \r\n                    :items=\"notification\"\r\n                    :items-per-page=\"5\"                    \r\n                    :single-select=\"singleSelect\"\r\n                    item-key=\"id\"\r\n                    show-select\r\n                    class=\"elevation-1\"\r\n                    >\r\n\r\n\r\n                        <template v-slot:item.status=\"{ item }\">\r\n                            <v-chip :color=\"getColor(item.status)\" dark> {{ item.status }}</v-chip>\r\n                        </template>\r\n\r\n                    \r\n                    </v-data-table>\r\n\r\n                </v-col>\r\n                \r\n               \r\n                   \r\n\r\n                <v-col cols=\"12\" offset=\"0\" sm=\"6\" offset-sm=\"6\"  align-self=\"end\" justify=\"end\" >\r\n                    <v-btn v-if=\"this.selected.length!== 0\" \r\n                    large rounded color=\"amber lighten-1\"\r\n                    class=\"white--text\" @click=\"deleteNotification()\">\r\n                        Remover Mensagem\r\n                    </v-btn>\r\n                    <v-btn v-else large rounded  disabled>Remover Mensagem</v-btn>\r\n                </v-col>\r\n                   \r\n\r\n               \r\n\r\n                \r\n\r\n            </v-row >\r\n\r\n            \r\n            \r\n\r\n\r\n\r\n        </div>\r\n\r\n    <footerVue/>\r\n\r\n\r\n         \r\n    \r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\n    \r\n    import NavBar from \"@/components/navBar.vue\";\r\n    import footerVue from \"@/components/footerVue.vue\";\r\n    import Logout from \"@/components/logout.vue\";\r\n    import perfil from \"@/components/perfil.vue\";\r\n  \r\n\r\nexport default {\r\n\r\n    name:\"notificationPage\",\r\n\r\n    components:{\r\n        \r\n        NavBar,\r\n        footerVue,    \r\n        Logout,\r\n        perfil\r\n    },\r\n    data () {\r\n        \r\n        return {\r\n\r\n            \r\n            singleSelect: true,\r\n            selected: [],\r\n            notification: [],\r\n            \r\n            \r\n            statusStr: \"\",\r\n            headersMessage: [\r\n                \r\n                { text: 'Restaurante', value: 'restaurantName',align: 'start' },\r\n                { text: 'Data', value: 'date' },\r\n                { text: 'Estado da Reserva', value: 'status' },\r\n                { text: 'Mensagem', value: 'message' },            \r\n                \r\n            ],\r\n\r\n            checker: \"border: solid red 3px\"\r\n            \r\n\r\n            \r\n\r\n\r\n        }\r\n        \r\n        \r\n      \r\n    },\r\n\r\n    \r\n    \r\n    async created(){\r\n     \r\n\r\n\r\n    let loggedUser = JSON.parse(sessionStorage.getItem(\"loggedUser\"))\r\n    await this.$store.dispatch(\"get_user_notifications\",{\r\n        idUser: loggedUser.idUser\r\n    }).then(()=>{\r\n\r\n\r\n\r\n        let notifications = []\r\n        notifications = this.$store.getters.getUserNotifications\r\n\r\n        \r\n\r\n        let restaurants = JSON.parse(sessionStorage.getItem(\"restaurants\"))\r\n        //let restaurantNames = []\r\n\r\n        for(let i = 0; i < notifications.length;i++){\r\n\r\n            let restaurantName = \"\"\r\n\r\n            restaurants.find((restaurant)=>{\r\n                if(restaurant.idRestaurant == notifications[i].idRestaurant){\r\n                    restaurantName = restaurant.name\r\n                }\r\n            })\r\n\r\n            this.notification.push({\r\n                idNotification:notifications[i].idNotification,\r\n                idUser:notifications[i].idUser,\r\n                idRestaurant:notifications[i].idRestaurant,\r\n                status:notifications[i].status,\r\n                message:notifications[i].message,\r\n                dateTime:notifications[i].dateTime,\r\n                read:notifications[i].read,\r\n                restaurantName: restaurantName\r\n            })\r\n\r\n            \r\n        }\r\n\r\n        console.log(\"notifications result: \", this.notification)\r\n    }).catch((error)=>{\r\n        console.log(\"Error in getting user notifications\",error)\r\n    })\r\n\r\n    },\r\n\r\n    beforeMount(){\r\n        /*\r\n        this.$store.commit(\"CONFIRM_HISTORY_READ\",{\r\n            id: this.$store.getters.getLoggedUserId\r\n        })\r\n        */\r\n    },\r\n\r\n    \r\n    \r\n    methods:{\r\n\r\n\r\n\r\n\r\n        //change the tag color and value of the status reservation \r\n        \r\n        getColor(status){\r\n\r\n            if (status == \"A ser confirmado\") return 'orange lighten-1'\r\n            else if(status ==\"Reserva Confirmada\") return 'green lighten-1'       \r\n            else return 'red lighten-1' \r\n        },\r\n\r\n        //mark the message has readed\r\n\r\n        deleteNotification(){\r\n            this.$store.commit(\"DELETE_NOTIFICATION\",{\r\n                id: this.selected[0].idNotification,\r\n            })\r\n\r\n        this.$fire({\r\n            title: \"Mensagem Removida\",          \r\n            type: \"success\",\r\n            confirmButtonText: \"ok\"\r\n        })\r\n\r\n        location.reload();\r\n\r\n            \r\n\r\n        }\r\n\r\n        \r\n       \r\n\r\n        \r\n    }\r\n\r\n\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotificationPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NotificationPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NotificationPage.vue?vue&type=template&id=2431893e&\"\nimport script from \"./NotificationPage.vue?vue&type=script&lang=js&\"\nexport * from \"./NotificationPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VChip,VCol,VDataTable,VRow})\n"],"sourceRoot":""}