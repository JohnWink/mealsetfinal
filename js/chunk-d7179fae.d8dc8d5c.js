(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d7179fae"],{1681:function(e,t,a){},5311:function(e,t,a){"use strict";var r=a("5607"),n=a("2b0e");t["a"]=n["a"].extend({name:"rippleable",directives:{ripple:r["a"]},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.ripple?(e.staticClass="v-input--selection-controls__ripple",e.directives=e.directives||[],e.directives.push({name:"ripple",value:{center:!0}}),e.on=Object.assign({click:this.onChange},this.$listeners),this.$createElement("div",e)):null},onChange:function(){}}})},"6ca7":function(e,t,a){},a844:function(e,t,a){"use strict";a("a9e3");var r=a("5530"),n=(a("1681"),a("8654")),o=a("58df"),i=Object(o["a"])(n["a"]);t["a"]=i.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(e){return!isNaN(parseFloat(e))}},rows:{type:[Number,String],default:5,validator:function(e){return!isNaN(parseInt(e,10))}}},computed:{classes:function(){return Object(r["a"])({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},n["a"].options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var e=this;setTimeout((function(){e.autoGrow&&e.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var e=this.$refs.input;if(e){e.style.height="0";var t=e.scrollHeight,a=parseInt(this.rows,10)*parseFloat(this.rowHeight);e.style.height=Math.max(a,t)+"px"}},genInput:function(){var e=n["a"].options.methods.genInput.call(this);return e.tag="textarea",delete e.data.attrs.type,e.data.attrs.rows=this.rows,e},onInput:function(e){n["a"].options.methods.onInput.call(this,e),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(e){this.isFocused&&13===e.keyCode&&e.stopPropagation(),this.$emit("keydown",e)}}})},ac7c:function(e,t,a){"use strict";a("d3b7"),a("25f0");var r=a("5530"),n=(a("6ca7"),a("ec29"),a("9d26")),o=a("c37a"),i=(a("4de4"),a("45fc"),a("5311")),s=a("8547"),c=a("58df"),l=Object(c["a"])(o["a"],i["a"],s["a"]).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data:function(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor:function(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple:function(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive:function(){var e=this,t=this.value,a=this.internalValue;return this.isMultiple?!!Array.isArray(a)&&a.some((function(a){return e.valueComparator(a,t)})):void 0===this.trueValue||void 0===this.falseValue?t?this.valueComparator(t,a):Boolean(a):this.valueComparator(a,this.trueValue)},isDirty:function(){return this.isActive},rippleState:function(){return this.isDisabled||this.validationState?this.validationState:void 0}},watch:{inputValue:function(e){this.lazyValue=e,this.hasColor=e}},methods:{genLabel:function(){var e=this,t=o["a"].options.methods.genLabel.call(this);return t?(t.data.on={click:function(t){t.preventDefault(),e.onChange()}},t):t},genInput:function(e,t){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:e,type:e},t),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown},ref:"input"})},onBlur:function(){this.isFocused=!1},onChange:function(){var e=this;if(this.isInteractive){var t=this.value,a=this.internalValue;if(this.isMultiple){Array.isArray(a)||(a=[]);var r=a.length;a=a.filter((function(a){return!e.valueComparator(a,t)})),a.length===r&&a.push(t)}else a=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(a,this.trueValue)?this.falseValue:this.trueValue:t?this.valueComparator(a,t)?null:t:!a;this.validate(!0,a),this.internalValue=a,this.hasColor=a}},onFocus:function(){this.isFocused=!0},onKeydown:function(e){}}});t["a"]=l.extend({name:"v-checkbox",props:{indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"}},data:function(){return{inputIndeterminate:this.indeterminate}},computed:{classes:function(){return Object(r["a"])(Object(r["a"])({},o["a"].options.computed.classes.call(this)),{},{"v-input--selection-controls":!0,"v-input--checkbox":!0,"v-input--indeterminate":this.inputIndeterminate})},computedIcon:function(){return this.inputIndeterminate?this.indeterminateIcon:this.isActive?this.onIcon:this.offIcon},validationState:function(){if(!this.isDisabled||this.inputIndeterminate)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0}},watch:{indeterminate:function(e){var t=this;this.$nextTick((function(){return t.inputIndeterminate=e}))},inputIndeterminate:function(e){this.$emit("update:indeterminate",e)},isActive:function(){this.indeterminate&&(this.inputIndeterminate=!1)}},methods:{genCheckbox:function(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(n["a"],this.setTextColor(this.validationState,{props:{dense:this.dense,dark:this.dark,light:this.light}}),this.computedIcon),this.genInput("checkbox",Object(r["a"])(Object(r["a"])({},this.attrs$),{},{"aria-checked":this.inputIndeterminate?"mixed":this.isActive.toString()})),this.genRipple(this.setTextColor(this.rippleState))])},genDefaultSlot:function(){return[this.genCheckbox(),this.genLabel()]}}})},df74:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"userRestaurantPage"},[a("v-row",{staticClass:"mr-2 mb-6 mt-6",attrs:{align:"center",justify:"center"}},[a("v-row",{staticClass:"ml-12 pl-12",attrs:{align:"center",justify:"space-between"}},[a("v-col",{attrs:{cols:"1"}},[a("navBar")],1),a("v-col",{attrs:{cols:"12",sm:"3"}},[a("v-img",{staticStyle:{border:"solid indigo","border-radius":"12px"},attrs:{contain:"true","max-height":"150px",src:e.logoPage}})],1),a("v-col",{attrs:{cols:"12",sm:"5"}}),a("v-col",{attrs:{cols:"7",sm:"1"}},[a("perfil")],1),a("v-col",{attrs:{cols:"5",sm:"2"}},[a("logout")],1)],1),1==this.tableMode?a("v-row",{staticClass:"pl-12 ml-12"},[a("v-col",{attrs:{cols:"12"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headersReservation,items:e.reservations,"single-select":e.singleSelect,"item-key":"idReservation","show-select":""},scopedSlots:e._u([{key:"item.confirmed",fn:function(t){var r=t.item;return[a("v-chip",{attrs:{color:e.getColor(r.confirmed),dark:""}},[e._v(" "+e._s(r.confirmed))])]}}],null,!1,2784110115),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1),a("v-row",{staticClass:"pl-6 ml-6 mr-6 mt-3",attrs:{align:"center",justify:"center","justify-sm":"space-between"}},[a("v-col",{attrs:{cols:"4",sm:"2"}},[a("v-btn",{staticClass:"white--text",attrs:{large:"",rounded:"",color:"indigo lighten-1"},on:{click:function(t){e.tableMode=!1}}},[e._v("Pratos")])],1),a("v-col",{attrs:{cols:"4",sm:"2"}},[a("addTable")],1),a("v-col",{attrs:{cols:"4",sm:"4"}},[0!==this.selected.length?a("ChangeStatusRes",{attrs:{selected:this.selected[0]}}):a("v-btn",{attrs:{large:"",rounded:"",disabled:""}},[e._v("Mudar estado da Reserva")])],1),a("v-col",{attrs:{cols:"4",sm:"3"}},[a("v-btn",{staticClass:"white--text",attrs:{large:"",rounded:"",color:"red"},on:{click:function(t){return e.deleteReserves()}}},[e._v(" Limpar todas as Reservas ")])],1)],1)],1):e._e(),0==this.tableMode?a("v-row",{staticClass:"pl-12 ml-12"},[a("v-col",{attrs:{cols:"12"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headersDishes,items:e.dishes,"single-select":e.singleSelect,"item-key":"id","show-select":""},scopedSlots:e._u([{key:"item.img",fn:function(t){var r=t.item;return[a("a",{attrs:{href:r.foto,target:"_blank"}},[e._v("Link do prato: "+e._s(r.name))])]}}],null,!1,4125549233),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1),a("v-row",{staticClass:" pl-6 ml-6 mr-6 mt-3",attrs:{align:"center",justify:"center","justify-sm":"space-between"}},[0!==this.selected.length?a("ChangeStatusRes",{attrs:{selected:this.selected[0]}}):e._e(),a("v-col",{attrs:{cols:"12",sm:"3"}},[a("v-btn",{staticClass:"white--text",attrs:{large:"",rounded:"",color:"indigo lighten-1"},on:{click:function(t){e.tableMode=!0}}},[e._v("Reservas")])],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("addDish")],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[0!==this.selected.length?a("v-btn",{staticClass:"white--text",attrs:{large:"",rounded:"",color:"red lighten-1"},on:{click:function(t){return e.deleteItem()}}},[e._v("Remover prato")]):a("v-btn",{attrs:{large:"",rounded:"",disabled:""}},[e._v("Remover prato")])],1)],1)],1):e._e()],1),a("footerVue")],1)},n=[],o=(a("96cf"),a("1da1")),i=a("da1d"),s=a("acd8"),c=a("69a2"),l=a("4f23"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{large:"",rounded:"",color:"#f7c23e",dark:""}},r),[e._v("Mudar estado da Reserva")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-toolbar",{attrs:{color:"#f7c23e"}},[a("v-row",[a("v-col",{staticClass:"text-left mt-2 ml-6"},[a("v-toolbar-title",[e._v("Estado da Reserva ")])],1),a("v-col",{staticClass:"text-right mt-2"},[a("v-btn",{attrs:{color:"#ffffff",text:"",right:""},on:{click:function(t){e.dialog=!1}}},[a("v-icon",[e._v("mdi-close")])],1)],1)],1)],1),a("v-form",{ref:"form",staticClass:"pa-10",attrs:{"lazy-validation":""}},[a("v-select",{attrs:{items:e.statusSlc,rules:[function(e){return!!e||"Selecione o estado da reserva!"}],label:"Estado da Reserva",required:""},model:{value:e.statusChange,callback:function(t){e.statusChange=t},expression:"statusChange"}}),a("v-textarea",{attrs:{outlined:"",name:"input-7-4",color:"indigo darken-1",placeholder:"Escreva alguma notação..."},model:{value:e.notificationText,callback:function(t){e.notificationText=t},expression:"notificationText"}}),a("v-btn",{staticClass:"white--text",attrs:{color:"indigo lighten",large:"",rounded:""},on:{click:e.submit}},[e._v("Confirmar")])],1)],1)],1)},d=[],f={name:"ChangeStatusRes",props:{selected:{type:Object,default:function(){return{message:"default on"}}}},data:function(){return{dialog:!1,statusSlc:["Aceite","Recusado"],statusChange:"",notificationText:""}},methods:{submit:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r,n,i,s,c,l,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$refs.form.validate()){t.next=37;break}if(e.$fire({title:"Atualizando Reserva...",allowEscapeKey:!1,allowOutsideClick:!1,showCancelButton:!1,showConfirmButton:!1}),e.dialog=!1,a=e.notificationText,r=new Date,n=r.getDate(),i=r.getMonth()+1,s=r.getFullYear(),n<10&&(n="0"+n),i<10&&(i="0"+i),c=s+"-"+i+"-"+n+"  "+r.getHours()+":"+r.getMinutes()+":"+r.getSeconds(),console.log("current date: ",c),u=JSON.parse(sessionStorage.getItem("loggedUser")),"Reserva Confirmada!"==e.selected.status){t.next=26;break}if("Aceite"!==e.statusChange){t.next=17;break}return t.next=17,e.$store.dispatch("confirm_reservation",{id:e.selected.idReservation,status:"Reserva Confirmada"}).then(Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(l=e.$store.getters.feedbackChecker,200!=l){t.next=4;break}return t.next=4,e.$store.dispatch("add_notification",{idUser:e.selected.idUser,idRestaurant:u.idRestaurant,status:"Reserva Confirmada",message:a,dateTime:c}).then((function(){l=e.$store.getters.feedbackChecker,201==l?e.$fire({title:"Reserva Aceitada!",type:"sucess",confirmButtonText:"ok"}).then((function(e){e.value&&location.reload()})):e.$fire({title:"Erro interno",type:"error",confirmButtonText:"ok"}).then((function(e){e.value&&location.reload()}))})).catch((function(t){console.log("Error in add notification: ",t),e.$fire({title:"Erro interno",type:"error",confirmButtonText:"ok"}).then((function(e){e.value&&location.reload()}))}));case 4:case"end":return t.stop()}}),t)})))).catch((function(t){console.log("Error in accept reservation: ",t),e.$fire({title:"Erro interno",type:"error",confirmButtonText:"ok"}).then((function(e){e.value&&location.reload()}))}));case 17:if("Recusado"!==e.statusChange){t.next=24;break}if(""===a){t.next=23;break}return t.next=21,e.$store.dispatch("confirm_reservation",{id:e.selected.idReservation,status:"Reserva Recusada"}).then(Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(l=e.$store.getters.feedbackChecker,200!=l){t.next=4;break}return t.next=4,e.$store.dispatch("add_notification",{idUser:e.selected.idUser,idRestaurant:u.idRestaurant,status:"Reserva Recusada",message:a,dateTime:c}).then((function(){l=e.$store.getters.feedbackChecker,201==l?e.$fire({title:"Reserva Recusada!",type:"sucess",confirmButtonText:"ok"}).then((function(e){e.value&&location.reload()})):e.$fire({title:"Erro interno",type:"error",confirmButtonText:"ok"}).then((function(e){e.value&&location.reload()}))})).catch((function(e){console.log("Error in add notification: ",e)}));case 4:case"end":return t.stop()}}),t)})))).catch((function(e){console.log("Error in refuse reservation: ",e)}));case 21:t.next=24;break;case 23:e.$fire({title:"Adicione uma justificação na área de notação!",type:"error",confirmButtonText:"ok"}).then((function(e){e.value&&location.reload()}));case 24:t.next=37;break;case 26:if("Reserva Confirmada!"!=e.selected.status){t.next=37;break}if("Recusado"!==e.statusChange){t.next=36;break}if(""===a){t.next=33;break}return t.next=31,e.$store.dispatch("confirm_reservation",{id:e.selected.idReservation,status:"Reserva Confirmada"}).then(Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(l=e.$store.getters.feedbackChecker,200!=l){t.next=4;break}return t.next=4,e.$store.dispatch("add_notification",{idUser:e.selected.idUser,idRestaurant:u.idRestaurant,status:"Reserva Confirmada",message:a,date:c}).then((function(){l=e.$store.getters.feedbackChecker,201==l&&e.$fire({title:"Reserva Recusada!",type:"sucess",confirmButtonText:"ok"}).then((function(e){e.value&&location.reload()}))})).catch((function(t){console.log("Error in add notification: ",t),e.$fire({title:"Erro interno",type:"error",confirmButtonText:"ok"}).then((function(e){e.value&&location.reload()}))}));case 4:case"end":return t.stop()}}),t)})))).catch((function(t){console.log("Error in refuse reservation: ",t),e.$fire({title:"Erro interno",type:"error",confirmButtonText:"ok"}).then((function(e){e.value&&location.reload()}))}));case 31:t.next=34;break;case 33:e.$fire({title:"Adicione uma justificação na área de notação!",type:"error",confirmButtonText:"ok"}).then((function(e){e.value&&location.reload()}));case 34:t.next=37;break;case 36:e.$fire({title:"A reserva já foi aceite!",type:"warning",confirmButtonText:"ok"}).then((function(e){e.value&&location.reload()}));case 37:case"end":return t.stop()}}),t)})))()}}},h=f,m=a("2877"),v=a("6544"),p=a.n(v),g=a("8336"),b=a("b0af"),x=a("62ad"),k=a("169a"),w=a("4bd4"),R=a("132d"),C=a("0fd9"),y=a("b974"),$=a("a844"),V=a("71d9"),_=a("2a7f"),T=Object(m["a"])(h,u,d,!1,null,null,null),B=T.exports;p()(T,{VBtn:g["a"],VCard:b["a"],VCol:x["a"],VDialog:k["a"],VForm:w["a"],VIcon:R["a"],VRow:C["a"],VSelect:y["a"],VTextarea:$["a"],VToolbar:V["a"],VToolbarTitle:_["a"]});var I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{large:"",rounded:"",color:"green lighten-1",dark:""}},r),[e._v("Adicionar prato")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-toolbar",{attrs:{color:"green lighten-1",dark:""}},[a("v-row",[a("v-col",{staticClass:"text-left mt-2 ml-6"},[a("v-toolbar-title",[e._v("Adicionar prato")])],1),a("v-col",{staticClass:"text-right mt-2"},[a("v-btn",{attrs:{color:"#ffffff",text:"",right:""},on:{click:function(t){e.dialog=!1}}},[a("v-icon",[e._v("mdi-close")])],1)],1)],1)],1),a("v-form",{ref:"form",staticClass:"pa-10",attrs:{"lazy-validation":""}},[a("v-text-field",{attrs:{rules:e.nameRules,label:"Nome do prato",color:"green darken-1",placeholder:"Nome do Prato...",required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("v-file-input",{attrs:{label:"Imagem",rules:e.fotoRules,required:"",filled:"","prepend-icon":"mdi-camera",color:"#reen darken-1"},model:{value:e.foto,callback:function(t){e.foto=t},expression:"foto"}}),a("v-textarea",{attrs:{outlined:"",rules:e.descripRules,color:"green darken-1",label:"Descrição do Prato",placeholder:"Descrição do Prato..."},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}}),a("v-textarea",{attrs:{outlined:"",rules:e.priceRules,color:"green darken-1",label:"Preço do Prato",placeholder:"Preço do Prato..."},model:{value:e.price,callback:function(t){e.price=t},expression:"price"}}),a("v-checkbox",{attrs:{required:"",label:"Prato para as Recomendaçôes","true-value":"1","false-value":"0"},model:{value:e.recommended,callback:function(t){e.recommended=t},expression:"recommended"}}),a("v-btn",{staticClass:"white--text",attrs:{color:"green lighten",large:"",rounded:""},on:{click:e.submit}},[e._v("Adicionar Restaurante")])],1)],1)],1)},S=[],E=(a("a4d3"),a("e01a"),a("b0c0"),{name:"addDish",props:{selected:{type:Object,default:function(){return{message:"default on"}}}},data:function(){return{dialog:!1,name:"",foto:[],description:"",price:0,recommended:0,descripRules:[function(e){return!!e||"Por favor preencha a Descrição do Prato."},function(e){return e&&e.length>=15||"Tem de ter mais de 15 caracteres"}],nameRules:[function(e){return!!e||"Por favor preencha o nome."},function(e){return e&&e.length>=5||"Tem de ter mais de 5 caracteres"}],fotoRules:[function(e){return 0!=e.length||"Por favor Introduza a foto."}],priceRUles:[function(e){return!!e||"Por favor preencha o Preço do prato."}]}},methods:{submit:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$refs.form.validate()){t.next=7;break}return a=JSON.parse(sessionStorage.getItem("loggedUser")),e.dialog=!1,e.$fire({title:"Adicionando Prato...",allowEscapeKey:!1,allowOutsideClick:!1,showCancelButton:!1,showConfirmButton:!1}),0==e.foto.length&&(e.imgLink="https://media.istockphoto.com/vectors/knife-fork-plate-drawing-vector-id1047553544"),t.next=7,e.$store.dispatch("add_dish",{name:e.name,description:e.description,price:e.price,recommended:e.recommended,idRestaurant:a.idRestaurant}).then(Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.$store.getters.feedbackChecker,201!=r){t.next=7;break}return a=e.$store.getters.getLastDishId,t.next=5,e.$store.dispatch("upload_dish_foto",{idDish:a,foto:e.foto}).then((function(){r=e.$store.getters.feedbackChecker,200==r?e.$fire({title:"Prato Adicionado!",type:"success",confirmButtonText:"ok"}).then((function(e){e.value&&location.reload()})):404==r?e.$fire({title:"Prato não foi encontrado",type:"error",confirmButtonText:"ok"}).then((function(e){e.value&&location.reload()})):400==r?e.$fire({title:"Imagem inválida",type:"error",confirmButtonText:"ok"}).then((function(e){e.value&&location.reload()})):e.$fire({title:"Erro interno",type:"error",confirmButtonText:"ok"}).then((function(e){e.value&&location.reload()}))}));case 5:t.next=8;break;case 7:e.$fire({title:"Erro interno",type:"error",confirmButtonText:"ok"}).then((function(e){e.value&&location.reload()}));case 8:case"end":return t.stop()}}),t)})))).catch((function(t){console.log("Error in adding dish: ",t),e.$fire({title:"Erro interno",type:"error",confirmButtonText:"ok"}).then((function(e){e.value&&location.reload()}))}));case 7:case"end":return t.stop()}}),t)})))()}}}),O=E,j=a("ac7c"),D=a("23a7"),P=a("8654"),A=Object(m["a"])(O,I,S,!1,null,null,null),z=A.exports;p()(A,{VBtn:g["a"],VCard:b["a"],VCheckbox:j["a"],VCol:x["a"],VDialog:k["a"],VFileInput:D["a"],VForm:w["a"],VIcon:R["a"],VRow:C["a"],VTextField:P["a"],VTextarea:$["a"],VToolbar:V["a"],VToolbarTitle:_["a"]});var M=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({attrs:{large:"",rounded:"",color:"green lighten-1",dark:""}},r),[e._v("Adicionar Mesa")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-toolbar",{attrs:{color:"green lighten-1",dark:""}},[a("v-row",[a("v-col",{staticClass:"text-left mt-2 ml-6"},[a("v-toolbar-title",[e._v("Adicionar Mesa")])],1),a("v-col",{staticClass:"text-right mt-2"},[a("v-btn",{attrs:{color:"#ffffff",text:"",right:""},on:{click:function(t){e.dialog=!1}}},[a("v-icon",[e._v("mdi-close")])],1)],1)],1)],1),a("v-form",{ref:"form",staticClass:"pa-10",attrs:{"lazy-validation":""}},[a("v-text-field",{attrs:{rules:e.nameRules,label:"Nome da mesa",color:"green darken-1",placeholder:"Nome da Mesa...",required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("v-text-field",{attrs:{rules:e.sizeRules,color:"green darken-1",label:"Tamanho da mesa",placeholder:"nº de pessoas"},model:{value:e.size,callback:function(t){e.size=t},expression:"size"}}),a("v-textarea",{attrs:{outlined:"",rules:e.descripRules,color:"green darken-1",label:"Descrição do Prato",placeholder:"Descrição da Mesa..."},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}}),a("v-checkbox",{attrs:{required:"",label:"Zona de fumadores?","true-value":"1","false-value":"0"},model:{value:e.smoking,callback:function(t){e.smoking=t},expression:"smoking"}}),a("v-checkbox",{attrs:{required:"",label:"Esplanada","true-value":"1","false-value":"0"},model:{value:e.outside,callback:function(t){e.outside=t},expression:"outside"}}),a("v-btn",{staticClass:"white--text",attrs:{color:"green lighten",large:"",rounded:""},on:{click:e.submit}},[e._v("Adicionar Mesa")])],1)],1)],1)},N=[],U={name:"addDish",props:{selected:{type:Object,default:function(){return{message:"default on"}}}},data:function(){return{dialog:!1,name:"",size:"",description:"",smoking:0,outside:0,descripRules:[function(e){return!!e||"Por favor preencha a Descrição da Mesa."},function(e){return e&&e.length>=5||"Tem de ter mais de 5 caracteres"}],nameRules:[function(e){return!!e||"Por favor preencha o nome."},function(e){return e&&e.length>=5||"Tem de ter mais de 5 caracteres"}],sizeRules:[function(e){return!!e||"Por favor indique o tamanho da mesa (nº de pessoas)"}]}},methods:{submit:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$refs.form.validate()){t.next=6;break}return a=JSON.parse(sessionStorage.getItem("loggedUser")),e.dialog=!1,e.$fire({title:"Adicionando Mesa...",allowEscapeKey:!1,allowOutsideClick:!1,showCancelButton:!1,showConfirmButton:!1}),t.next=6,e.$store.dispatch("add_table",{name:e.name,description:e.description,size:e.size,smoking:e.smoking,outside:e.outside,idRestaurant:a.idRestaurant}).then(Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=e.$store.getters.feedbackChecker,201==r?e.$fire({title:"Mesa Adicionada!",type:"success",confirmButtonText:"ok"}).then((function(e){e.value&&location.reload()})):e.$fire({title:"Erro interno",type:"error",confirmButtonText:"ok"}).then((function(e){e.value&&location.reload()}));case 2:case"end":return t.stop()}}),t)})))).catch((function(t){console.log("Error in adding Table: ",t),e.$fire({title:"Erro interno",type:"error",confirmButtonText:"ok"}).then((function(e){e.value&&location.reload()}))}));case 6:case"end":return t.stop()}}),t)})))()}}},F=U,H=Object(m["a"])(F,M,N,!1,null,null,null),q=H.exports;p()(H,{VBtn:g["a"],VCard:b["a"],VCheckbox:j["a"],VCol:x["a"],VDialog:k["a"],VForm:w["a"],VIcon:R["a"],VRow:C["a"],VTextField:P["a"],VTextarea:$["a"],VToolbar:V["a"],VToolbarTitle:_["a"]});var L={name:"userRestaurantPage",components:{NavBar:i["a"],footerVue:s["a"],Logout:c["a"],perfil:l["a"],ChangeStatusRes:B,addDish:z,addTable:q},data:function(){return{tableMode:!0,singleSelect:!0,selected:[],restaurants:[],logoPage:"https://elements-cover-images-0.imgix.net/6359eb8d-2d31-4bea-a137-92baa4b68eb2?auto=compress%2Cformat&fit=max&w=710&s=d7e84e77ccd12f5ab06926237b5ded0d",statusStr:"",headersReservation:[{text:"Nome",value:"name"},{text:"Data",value:"dateTime"},{text:"Numero de Pessoas",value:"n_people"},{text:"Estado da Reserva",value:"confirmed"}],headersDishes:[{text:"Prato",value:"name"},{text:"Imagem",value:"foto"},{text:"Descrição",value:"description"},{text:"Preço",value:"price"},{text:"Recomendado",value:"recommended"}],reservations:[],dishes:[],loggedUser:[]}},created:function(){},beforeCreate:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loggedUser=JSON.parse(sessionStorage.getItem("loggedUser")),a=e.loggedUser,console.log("before create logged user id Restaurant: ",e.loggedUser.idRestaurant),t.next=5,e.$store.dispatch("get_restaurant_reservations",{idRestaurant:e.loggedUser.idRestaurant}).then((function(){e.reservations=e.$store.getters.getRestaurantReservations})).catch((function(e){console.log("Error in getting restaurant reservations: ",e)}));case 5:return e.loggedUser=JSON.parse(sessionStorage.getItem("loggedUser")),t.next=8,e.$store.dispatch("get_restaurant_dishes",{idRestaurant:a.idRestaurant}).then((function(){e.dishes=e.$store.getters.getRestaurantDishes})).catch((function(e){console.log("Error in getting restaurant dishes: ",e)}));case 8:case"end":return t.stop()}}),t)})))()},methods:{getColor:function(e){return"A ser confirmado"==e?"orange lighten-1":"Reserva Confirmada"==e?"green lighten-1":"red lighten-1"},deleteItem:function(){var e,t=this;this.$fire({title:"Quer remover o Prato?",text:"You won't be able to revert this!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sim!"}).then(function(){var a=Object(o["a"])(regeneratorRuntime.mark((function a(r){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!r.value){a.next=4;break}return t.$fire({title:"Removendo Prato...",allowEscapeKey:!1,allowOutsideClick:!1,showCancelButton:!1,showConfirmButton:!1}),a.next=4,t.$store.dispatch("remove_dish",{idDish:t.selected[0].idDish}).then((function(){e=t.$store.getters.feedbackChecker,204==e&&t.$fire({title:"Prato removido!",type:"success"}).then((function(e){e.value&&location.reload()}))})).catch((function(e){console.log("error in removing dish:",e)}));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())},deleteReserves:function(){var e,t=this;this.$fire({title:"Tem a certeza?",text:"Todas as reservas vão ser permanentemente eliminadas",type:"warning",confirmButtonText:"Sim! Eliminar tudo!",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33"}).then(function(){var a=Object(o["a"])(regeneratorRuntime.mark((function a(r){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!r.value){a.next=3;break}return a.next=3,t.$store.dispatch("delete_restaurant_reservations",{restaurantId:t.loggedUser.idRestaurant}).then((function(){e=t.$store.getters.feedbackChecker,204==e&&t.$fire({title:"Reservas removidas!",type:"success"}).then((function(e){e.value&&location.reload()}))})).catch((function(e){console.log("Erro em remover reservas: ",e)}));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())},getRecommended:function(e){return!0===e?"Sim":"Não"},colorRecommended:function(e){return 0==e?"orange lighten-1":"green lighten-1"}}},G=L,J=a("cc20"),K=a("8fea"),Y=a("adda"),Q=Object(m["a"])(G,r,n,!1,null,null,null);t["default"]=Q.exports;p()(Q,{VBtn:g["a"],VChip:J["a"],VCol:x["a"],VDataTable:K["a"],VImg:Y["a"],VRow:C["a"]})},ec29:function(e,t,a){}}]);
//# sourceMappingURL=chunk-d7179fae.d8dc8d5c.js.map