(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c1417"],{"44ef":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"notificationPage"},[a("div",{staticClass:"mr-2 mb-6 mt-6",attrs:{align:"center",justify:"center"}},[a("v-row",{attrs:{align:"start",justify:"center"}},[a("v-col",{attrs:{cols:"1"}},[a("navBar")],1),a("v-col",{attrs:{cols:"3",sm:"2","offset-sm":"6",offset:"6"}},[a("perfil")],1),a("v-col",{attrs:{cols:"3",sm:"1","offset-sm":"0",offset:"7"}},[a("logout")],1)],1),a("v-row",{staticClass:"pl-10 ml-10"},[a("v-col",{attrs:{cols:"12"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headersMessage,items:e.notification,"items-per-page":5,"single-select":e.singleSelect,"item-key":"id","show-select":""},scopedSlots:e._u([{key:"item.status",fn:function(t){var s=t.item;return[a("v-chip",{attrs:{color:e.getColor(s.status),dark:""}},[e._v(" "+e._s(s.status))])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1),a("v-col",{attrs:{cols:"12",offset:"0",sm:"6","offset-sm":"6","align-self":"end",justify:"end"}},[0!==this.selected.length?a("v-btn",{staticClass:"white--text",attrs:{large:"",rounded:"",color:"amber lighten-1"},on:{click:function(t){return e.deleteNotification()}}},[e._v(" Remover Mensagem ")]):a("v-btn",{attrs:{large:"",rounded:"",disabled:""}},[e._v("Remover Mensagem")])],1)],1)],1),a("footerVue")],1)},n=[],i=(a("7db0"),a("b0c0"),a("96cf"),a("1da1")),o=a("da1d"),r=a("acd8"),c=a("69a2"),l=a("4f23"),d={name:"notificationPage",components:{NavBar:o["a"],footerVue:r["a"],Logout:c["a"],perfil:l["a"]},data:function(){return{singleSelect:!0,selected:[],notification:[],statusStr:"",headersMessage:[{text:"Restaurante",value:"restaurantName",align:"start"},{text:"Data",value:"date"},{text:"Estado da Reserva",value:"status"},{text:"Mensagem",value:"message"}],checker:"border: solid red 3px"}},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=JSON.parse(sessionStorage.getItem("loggedUser")),t.next=3,e.$store.dispatch("get_user_notifications",{idUser:a.idUser}).then((function(){var t=[];t=e.$store.getters.getUserNotifications;for(var a=JSON.parse(sessionStorage.getItem("restaurants")),s=function(s){var n="";a.find((function(e){e.idRestaurant==t[s].idRestaurant&&(n=e.name)})),e.notification.push({idNotification:t[s].idNotification,idUser:t[s].idUser,idRestaurant:t[s].idRestaurant,status:t[s].status,message:t[s].message,dateTime:t[s].dateTime,read:t[s].read,restaurantName:n})},n=0;n<t.length;n++)s(n);console.log("notifications result: ",e.notification)})).catch((function(e){console.log("Error in getting user notifications",e)}));case 3:case"end":return t.stop()}}),t)})))()},beforeMount:function(){},methods:{getColor:function(e){return"A ser confirmado"==e?"orange lighten-1":"Reserva Confirmada"==e?"green lighten-1":"red lighten-1"},deleteNotification:function(){this.$store.commit("DELETE_NOTIFICATION",{id:this.selected[0].idNotification}),this.$fire({title:"Mensagem Removida",type:"success",confirmButtonText:"ok"}),location.reload()}}},u=d,f=a("2877"),g=a("6544"),m=a.n(g),v=a("8336"),h=a("cc20"),p=a("62ad"),b=a("8fea"),w=a("0fd9"),N=Object(f["a"])(u,s,n,!1,null,null,null);t["default"]=N.exports;m()(N,{VBtn:v["a"],VChip:h["a"],VCol:p["a"],VDataTable:b["a"],VRow:w["a"]})}}]);
//# sourceMappingURL=chunk-2d0c1417.d92c7c87.js.map